{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hemko\\\\OneDrive - Otago Polytechnic\\\\01_Courses\\\\10_Studio_03\\\\03_Others\\\\Eco-shop\\\\src\\\\components\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Alert, Button, Form, InputGroup, Modal } from \"react-bootstrap\";\nimport Footer from \"./Footer\";\nimport '../css/Checkout.css';\nimport CheckoutService from \"../context/CheckoutServices\";\nimport HeaderSwitcher from \"./HeaderSwitcher\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport { getAuth } from \"firebase/auth\"; //This will import the authentication from firebase\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Checkout() {\n  _s();\n  var _location$state;\n  const [discountCode, setDiscountCode] = useState([]);\n  const [appliedDiscount, setAppliedDiscount] = useState(null);\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [region, setRegion] = useState(\"\");\n  const [zipCode, setZipCode] = useState(\"\");\n  const [message, setMessage] = useState({\n    error: false,\n    msg: \"\"\n  });\n  const [country, setCountry] = useState(\"\");\n  const [subTotal, setSubTotal] = useState(0.00);\n  const [discount, setDiscount] = useState(0.00);\n  const [serverFee, setServerFee] = useState(0.00);\n  const [totalCost, setTotalCost] = useState(0.00);\n  const [showModal, setShowModal] = useState(false);\n  const [showErrorModal, setShowErrorModal] = useState(false);\n  const [missingFields, setMissingFields] = useState([]);\n\n  // Inside the Checkout function\n  const location = useLocation();\n  const selectedProducts = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.selectedProducts) || [];\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Calculate SubTotal when selectedProducts change\n    let subtotal = selectedProducts.reduce((acc, item) => acc + item.productPrice, 0);\n    setSubTotal(subtotal);\n\n    // Calculate Server Fee\n    const serverPercentage = 0.15; // 15% server fee\n    const serverValue = subtotal * serverPercentage;\n    setServerFee(serverValue);\n\n    // Calculate Total Cost without discount\n    const totalCost = subtotal + serverValue;\n    setTotalCost(totalCost);\n  }, [selectedProducts]);\n  const discountCodes = {\n    \"DISCOUNT50\": 0.50,\n    // 50% discount\n    \"DISCOUNT20\": 0.20,\n    // 20% discount\n    \"DISCOUNT15\": 0.15,\n    // 15% discount\n    \"DISCOUNT10\": 0.10 // 10% discount\n  };\n  const handleApplyDiscount = () => {\n    const discountPercentage = discountCodes[discountCode.toUpperCase()] || 0;\n    if (discountPercentage > 0) {\n      const discountValue = subTotal * discountPercentage;\n      const newTotalCost = subTotal - discountValue + serverFee;\n      setDiscount(discountValue);\n      setTotalCost(newTotalCost);\n      setDiscountCode('');\n      setMessage({\n        error: false,\n        msg: \"Discount applied successfully!\"\n      });\n    } else {\n      setMessage({\n        error: true,\n        msg: \"Invalid discount code!\"\n      });\n    }\n  };\n  const handleRemoveDiscount = () => {\n    const newTotalCost = subTotal + serverFee; // Remove the discount from total cost\n    setDiscount(0);\n    setTotalCost(newTotalCost);\n    setAppliedDiscount(null); // Clear applied discount\n    setMessage({\n      error: false,\n      msg: \"Discount removed successfully!\"\n    });\n  };\n  const handleCardNumberChange = e => {\n    const {\n      value\n    } = e.target; // Safely access value from event target\n    let formattedValue = value.replace(/\\D/g, ''); // Remove all non-digit characters\n    formattedValue = formattedValue.replace(/(\\d{4})(?=\\d)/g, '$1 '); // Add space after every 4 digits\n    setCardNumber(formattedValue); // Update state with formatted value\n  };\n\n  //This will create an encryption for the card number\n  function simpleEncrypt(cardNumber) {\n    return cardNumber.split('').map(char => String.fromCharCode(char.charCodeAt(0) + 3)).join('');\n  }\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Fetch the logged-in user's ID\n    const auth = getAuth();\n    const user = auth.currentUser;\n    const userId = user ? user.uid : null;\n    if (!userId) {\n      setMessage({\n        error: true,\n        msg: \"User not logged in!\"\n      });\n      return;\n    }\n    setMessage(\"\");\n    setMissingFields([]); // Reset missing fields\n\n    // Track missing fields\n    let missingFields = [];\n    if (address === \"\") missingFields.push(\"Street Address\");\n    if (city === \"\") missingFields.push(\"City\");\n    if (region === \"\") missingFields.push(\"State/Province/Region\");\n    if (zipCode === \"\") missingFields.push(\"Zip/Postal Code\");\n    if (country === \"\") missingFields.push(\"Country\");\n    if (cardNumber === \"\") missingFields.push(\"Card Number\");\n    if (missingFields.length > 0) {\n      setMissingFields(missingFields); // Set the missing fields to the state\n      setShowErrorModal(true); // Show the error modal\n      return;\n    }\n    const encryptedCardNumber = simpleEncrypt(cardNumber); // This will store the encrypted card number\n\n    const checkoutData = {\n      paymentId: \"\",\n      // Provide a default empty string or some fallback value\n      userId: userId,\n      // Set the user ID here\n      cardNumber: encryptedCardNumber || \"\",\n      address: address || \"\",\n      city: city || \"\",\n      region: region || \"\",\n      zipCode: zipCode || \"\",\n      country: country || \"\",\n      serverFee: serverFee.toFixed(2),\n      totalCost: totalCost.toFixed(2),\n      items: selectedProducts.map(item => ({\n        productName: item.productName || \"Unknown Product\",\n        productDescription: item.productDescription || \"\",\n        productPrice: item.productPrice || 0,\n        imageUrls: item.imageUrls || \"\",\n        // Use a placeholder URL or empty string if missing\n        sellerId: item.sellerId || \"Unknown Seller\" // Ensure sellerId is provided\n      }))\n    };\n    try {\n      await CheckoutService.addCheckout(checkoutData, userId);\n      setMessage({\n        error: false,\n        msg: \"Payment successful!\"\n      });\n      setShowModal(true); // Show the modal when payment is successful\n    } catch (err) {\n      setMessage({\n        error: true,\n        msg: err.message\n      });\n    }\n    setAddress(\"\");\n    setCity(\"\");\n    setCountry(\"\");\n    setRegion(\"\");\n    setZipCode(\"\");\n    setCardNumber(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(HeaderSwitcher, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-content\",\n          children: [(message === null || message === void 0 ? void 0 : message.msg) && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: message !== null && message !== void 0 && message.error ? \"danger\" : \"success\",\n            dismissible: true,\n            onClose: () => setMessage(\"\"),\n            children: message === null || message === void 0 ? void 0 : message.msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-center mb-4\",\n            children: \"Checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"products-history\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Products History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this), selectedProducts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center\",\n            children: selectedProducts.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [item.imageUrls && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.imageUrls[0],\n                      alt: item.productName,\n                      className: \"card-img-top\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 192,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false), /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title\",\n                    children: item.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: item.productDescription\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"Price: $\", item.productPrice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 62\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Your cart is empty.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-container\",\n                  children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n                    className: \"input-width\",\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"Discount Code\",\n                      maxLength: 10,\n                      value: discountCode,\n                      onChange: e => setDiscountCode(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 216,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    size: \"md\",\n                    className: \"apply-button\",\n                    onClick: handleApplyDiscount,\n                    children: \"Apply\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 224,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"danger\",\n                    size: \"md\",\n                    className: \"remove-button\",\n                    onClick: handleRemoveDiscount,\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  controlId: \"formCardNumber\",\n                  children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      id: \"formCardNumber\",\n                      children: \"Card Number \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"xxxx xxxx xxxx xxxx\",\n                      maxLength: 19,\n                      value: cardNumber,\n                      onChange: e => handleCardNumberChange(e),\n                      style: {\n                        width: \"100%\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 244,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Billing Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  controlId: \"formStreetAddress\",\n                  children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      id: \"formStreetAddress\",\n                      children: \"Street Address \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"Street Address\",\n                      value: address,\n                      onChange: e => setAddress(e.target.value),\n                      style: {\n                        width: \"100%\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3 flex-grow-1 me-3\",\n                    controlId: \"formCity\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"formCity\",\n                        children: \"City \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 271,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"City\",\n                        value: city,\n                        onChange: e => setCity(e.target.value),\n                        style: {\n                          width: \"100%\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3 flex-grow-1\",\n                    controlId: \"formRegion\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"formRegion\",\n                        children: \"State/Province/Region \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"State/Province/Region\",\n                        value: region,\n                        onChange: e => setRegion(e.target.value),\n                        style: {\n                          width: \"100%\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3 flex-grow-1 me-3\",\n                    controlId: \"formZipCode\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"formZipCode\",\n                        children: \"Zip/Postal Code \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 297,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Zip/Postal Code\",\n                        value: zipCode,\n                        onChange: e => setZipCode(e.target.value),\n                        style: {\n                          width: \"100%\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 298,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3 flex-grow-1\",\n                    controlId: \"formCountry\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"formCountry\",\n                        children: \"Country \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 309,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Country\",\n                        value: country,\n                        onChange: e => setCountry(e.target.value),\n                        style: {\n                          width: \"100%\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-box\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: \"Payment Summary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"align-items\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label\",\n                        children: \"Sub Total:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 325,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"value\",\n                        children: [\"$\", subTotal.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 324,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"align-items\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label\",\n                        children: \"Discount:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"value\",\n                        children: [\"$-\", discount.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 330,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"align-items\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label\",\n                        children: \"Server Fee (15%):\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 333,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"value\",\n                        children: [\"$\", serverFee.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 332,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 336,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"align-items\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label\",\n                        children: \"Total Cost:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"value\",\n                        children: [\"$\", totalCost.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 337,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 323,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    size: \"lg\",\n                    className: \"paynow-button\",\n                    onClick: handleSubmit,\n                    type: \"submit\",\n                    children: \"Pay Now\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: () => setShowModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Payment Successful\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: \"Your payment was processed successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: () => {\n            setShowModal(false);\n            navigate('/Cart');\n          },\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showErrorModal,\n      onHide: () => setShowErrorModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Missing Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [\"Please fill in the following mandatory fields:\", /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: missingFields.map((field, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: field\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: () => setShowErrorModal(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Checkout, \"uab5HvKCCrHmsBXz8XSjYJ000gI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useEffect","Alert","Button","Form","InputGroup","Modal","Footer","CheckoutService","HeaderSwitcher","useNavigate","useLocation","getAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Checkout","_s","_location$state","discountCode","setDiscountCode","appliedDiscount","setAppliedDiscount","cardNumber","setCardNumber","address","setAddress","city","setCity","region","setRegion","zipCode","setZipCode","message","setMessage","error","msg","country","setCountry","subTotal","setSubTotal","discount","setDiscount","serverFee","setServerFee","totalCost","setTotalCost","showModal","setShowModal","showErrorModal","setShowErrorModal","missingFields","setMissingFields","location","selectedProducts","state","navigate","subtotal","reduce","acc","item","productPrice","serverPercentage","serverValue","discountCodes","handleApplyDiscount","discountPercentage","toUpperCase","discountValue","newTotalCost","handleRemoveDiscount","handleCardNumberChange","e","value","target","formattedValue","replace","simpleEncrypt","split","map","char","String","fromCharCode","charCodeAt","join","handleSubmit","preventDefault","auth","user","currentUser","userId","uid","push","length","encryptedCardNumber","checkoutData","paymentId","toFixed","items","productName","productDescription","imageUrls","sellerId","addCheckout","err","children","className","fileName","_jsxFileName","lineNumber","columnNumber","variant","dismissible","onClose","index","src","alt","onSubmit","Control","type","placeholder","maxLength","onChange","size","onClick","Group","controlId","Text","id","style","width","textAlign","show","onHide","Header","closeButton","Title","Body","field","_c","$RefreshReg$"],"sources":["C:/Users/hemko/OneDrive - Otago Polytechnic/01_Courses/10_Studio_03/03_Others/Eco-shop/src/components/Checkout.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Alert, Button, Form, InputGroup, Modal } from \"react-bootstrap\";\r\nimport Footer from \"./Footer\";\r\nimport '../css/Checkout.css';\r\nimport CheckoutService from \"../context/CheckoutServices\";\r\nimport HeaderSwitcher from \"./HeaderSwitcher\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport { getAuth } from \"firebase/auth\"; //This will import the authentication from firebase\r\n\r\nfunction Checkout() {\r\n    const [discountCode, setDiscountCode] = useState([]);\r\n    const [appliedDiscount, setAppliedDiscount] = useState(null);\r\n    const [cardNumber, setCardNumber] = useState(\"\");\r\n    const [address, setAddress] = useState(\"\");\r\n    const [city, setCity] = useState(\"\");\r\n    const [region, setRegion] = useState(\"\");\r\n    const [zipCode, setZipCode] = useState(\"\");\r\n    const [message, setMessage] = useState({ error: false, msg: \"\" });\r\n    const [country, setCountry] = useState(\"\");\r\n    const [subTotal, setSubTotal] = useState(0.00);\r\n    const [discount, setDiscount] = useState(0.00);\r\n    const [serverFee, setServerFee] = useState(0.00);\r\n    const [totalCost, setTotalCost] = useState(0.00);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [showErrorModal, setShowErrorModal] = useState(false);\r\n    const [missingFields, setMissingFields] = useState([]);\r\n    \r\n    // Inside the Checkout function\r\n    const location = useLocation();\r\n    const selectedProducts = location.state?.selectedProducts || [];\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        // Calculate SubTotal when selectedProducts change\r\n        let subtotal = selectedProducts.reduce((acc, item) => acc + item.productPrice, 0);\r\n        setSubTotal(subtotal);\r\n      \r\n        // Calculate Server Fee\r\n        const serverPercentage = 0.15; // 15% server fee\r\n        const serverValue = subtotal * serverPercentage;\r\n        setServerFee(serverValue);\r\n      \r\n        // Calculate Total Cost without discount\r\n        const totalCost = subtotal + serverValue;\r\n        setTotalCost(totalCost);\r\n      }, [selectedProducts]);\r\n      \r\n    \r\n    const discountCodes = {\r\n        \"DISCOUNT50\": 0.50, // 50% discount\r\n        \"DISCOUNT20\": 0.20, // 20% discount\r\n        \"DISCOUNT15\": 0.15, // 15% discount\r\n        \"DISCOUNT10\": 0.10  // 10% discount\r\n    };\r\n\r\n    const handleApplyDiscount = () => {\r\n        const discountPercentage = discountCodes[discountCode.toUpperCase()] || 0;\r\n        \r\n        if (discountPercentage > 0) {\r\n            const discountValue = subTotal * discountPercentage;\r\n            const newTotalCost = subTotal - discountValue + serverFee;\r\n\r\n            setDiscount(discountValue);\r\n            setTotalCost(newTotalCost);\r\n            setDiscountCode('');\r\n            setMessage({ error: false, msg: \"Discount applied successfully!\" });\r\n        } else {\r\n            setMessage({ error: true, msg: \"Invalid discount code!\" });\r\n        }\r\n    }; \r\n\r\n    const handleRemoveDiscount = () => {\r\n        const newTotalCost = subTotal + serverFee; // Remove the discount from total cost\r\n        setDiscount(0);\r\n        setTotalCost(newTotalCost);\r\n        setAppliedDiscount(null); // Clear applied discount\r\n        setMessage({ error: false, msg: \"Discount removed successfully!\" });\r\n    };\r\n    \r\n    const handleCardNumberChange = (e) => {\r\n        const { value } = e.target; // Safely access value from event target\r\n        let formattedValue = value.replace(/\\D/g, ''); // Remove all non-digit characters\r\n        formattedValue = formattedValue.replace(/(\\d{4})(?=\\d)/g, '$1 '); // Add space after every 4 digits\r\n        setCardNumber(formattedValue); // Update state with formatted value\r\n    };\r\n    \r\n    //This will create an encryption for the card number\r\n    function simpleEncrypt(cardNumber) {\r\n        return cardNumber.split('').map(char => String.fromCharCode(char.charCodeAt(0) + 3)).join('');\r\n    }\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        // Fetch the logged-in user's ID\r\n        const auth = getAuth();\r\n        const user = auth.currentUser;\r\n        const userId = user ? user.uid : null;\r\n\r\n        if (!userId) {\r\n            setMessage({ error: true, msg: \"User not logged in!\" });\r\n            return;\r\n        }\r\n\r\n        setMessage(\"\");\r\n        setMissingFields([]);  // Reset missing fields\r\n\r\n        // Track missing fields\r\n        let missingFields = [];\r\n\r\n        if (address === \"\") missingFields.push(\"Street Address\");\r\n        if (city === \"\") missingFields.push(\"City\");\r\n        if (region === \"\") missingFields.push(\"State/Province/Region\");\r\n        if (zipCode === \"\") missingFields.push(\"Zip/Postal Code\");\r\n        if (country === \"\") missingFields.push(\"Country\");\r\n        if (cardNumber === \"\") missingFields.push(\"Card Number\");\r\n\r\n        if (missingFields.length > 0) {\r\n            setMissingFields(missingFields);  // Set the missing fields to the state\r\n            setShowErrorModal(true);  // Show the error modal\r\n            return;\r\n        }\r\n\r\n        const encryptedCardNumber = simpleEncrypt(cardNumber);// This will store the encrypted card number\r\n\r\n        const checkoutData = {\r\n            paymentId: \"\", // Provide a default empty string or some fallback value\r\n            userId: userId,  // Set the user ID here\r\n            cardNumber: encryptedCardNumber || \"\",\r\n            address: address || \"\",\r\n            city: city || \"\",\r\n            region: region || \"\",\r\n            zipCode: zipCode || \"\",\r\n            country: country || \"\",\r\n            serverFee: serverFee.toFixed(2),\r\n            totalCost: totalCost.toFixed(2),\r\n            items: selectedProducts.map(item => ({\r\n                productName: item.productName || \"Unknown Product\",\r\n                productDescription: item.productDescription || \"\",\r\n                productPrice: item.productPrice || 0,\r\n                imageUrls: item.imageUrls || \"\", // Use a placeholder URL or empty string if missing\r\n                sellerId: item.sellerId || \"Unknown Seller\", // Ensure sellerId is provided\r\n            }))\r\n        };\r\n        \r\n        try {\r\n            await CheckoutService.addCheckout(checkoutData, userId);\r\n            setMessage({ error: false, msg: \"Payment successful!\" });\r\n            setShowModal(true); // Show the modal when payment is successful\r\n        } catch (err) {\r\n            setMessage({ error: true, msg: err.message });\r\n        }\r\n\r\n        setAddress(\"\");\r\n        setCity(\"\");\r\n        setCountry(\"\");\r\n        setRegion(\"\");\r\n        setZipCode(\"\");\r\n        setCardNumber(\"\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"p-4 box\">\r\n                <div className=\"wrapper\">\r\n                    <HeaderSwitcher/>\r\n                    <div className=\"main-content\">\r\n                        {message?.msg && (\r\n                            <Alert\r\n                                variant={message?.error ? \"danger\" : \"success\"}\r\n                                dismissible\r\n                                onClose={() => setMessage(\"\")}\r\n                            >\r\n                                {message?.msg}\r\n                            </Alert>\r\n                        )}\r\n                        <h2 className=\"text-center mb-4\">Checkout</h2>\r\n                        <div className=\"products-history\">\r\n                        <h4>Products History</h4>\r\n                        </div>\r\n                        <br/>\r\n                        {selectedProducts.length > 0 ? (\r\n                        <div className=\"row justify-content-center\">\r\n                            {selectedProducts.map((item, index) => (\r\n                            <div className=\"col-md-4\" key={index}>\r\n                                <div className=\"card text-center\">\r\n                                <div className=\"card-body\">\r\n                                    {item.imageUrls && (\r\n                                    <>\r\n                                        <img \r\n                                        src={item.imageUrls[0]} \r\n                                        alt={item.productName} \r\n                                        className=\"card-img-top\"\r\n                                        />\r\n                                    </>\r\n                                    )}\r\n                                    <h5 className=\"card-title\">{item.productName}</h5>\r\n                                    <p className=\"card-text\">{item.productDescription}</p>\r\n                                    <p className=\"card-text\"><strong>Price: ${item.productPrice}</strong></p>\r\n                                </div>\r\n                                </div>\r\n                            </div>\r\n                            ))}\r\n                        </div>\r\n                        ) : (\r\n                        <p>Your cart is empty.</p>\r\n                        )}\r\n                        <br/>\r\n                        <Form onSubmit={handleSubmit}>\r\n                            <div className=\"form-container\">\r\n                                <div className=\"form-box\">\r\n                                    <div className=\"flex-container\">\r\n                                        <InputGroup className=\"input-width\">\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"Discount Code\"\r\n                                                maxLength={10}\r\n                                                value={discountCode}\r\n                                                onChange={(e) => setDiscountCode(e.target.value)} \r\n                                            />\r\n                                        </InputGroup>\r\n                                        <Button\r\n                                            variant=\"success\" \r\n                                            size=\"md\" \r\n                                            className=\"apply-button\"\r\n                                            onClick={handleApplyDiscount}\r\n                                        >\r\n                                            Apply    \r\n                                        </Button>\r\n                                        <Button\r\n                                            variant=\"danger\"\r\n                                            size=\"md\"\r\n                                            className=\"remove-button\"\r\n                                            onClick={handleRemoveDiscount}\r\n                                        >\r\n                                            Remove\r\n                                        </Button>\r\n                                    </div> \r\n                                    <Form.Group className=\"mb-3\" controlId=\"formCardNumber\">\r\n                                        <InputGroup>\r\n                                            <InputGroup.Text id=\"formCardNumber\">Card Number </InputGroup.Text>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"xxxx xxxx xxxx xxxx\"\r\n                                                maxLength={19}\r\n                                                value={cardNumber}\r\n                                                onChange={(e) => handleCardNumberChange(e)}\r\n                                                style={{ width: \"100%\" }}\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Form.Group>\r\n                                    <p>Billing Address</p>\r\n                                    <hr/>\r\n                                    <Form.Group className=\"mb-3\" controlId=\"formStreetAddress\">\r\n                                        <InputGroup>\r\n                                            <InputGroup.Text id=\"formStreetAddress\">Street Address </InputGroup.Text>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"Street Address\"\r\n                                                value={address}\r\n                                                onChange={(e) => setAddress(e.target.value)}\r\n                                                style={{ width: \"100%\" }}\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Form.Group>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <Form.Group className=\"mb-3 flex-grow-1 me-3\" controlId=\"formCity\">\r\n                                            <InputGroup>\r\n                                                <InputGroup.Text id=\"formCity\">City </InputGroup.Text>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"City\"\r\n                                                    value={city}\r\n                                                    onChange={(e) => setCity(e.target.value)}\r\n                                                    style={{ width: \"100%\" }}\r\n                                                />\r\n                                            </InputGroup>\r\n                                        </Form.Group>\r\n                                        <Form.Group className=\"mb-3 flex-grow-1\" controlId=\"formRegion\">\r\n                                            <InputGroup>\r\n                                                <InputGroup.Text id=\"formRegion\">State/Province/Region </InputGroup.Text>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"State/Province/Region\"\r\n                                                    value={region}\r\n                                                    onChange={(e) => setRegion(e.target.value)}\r\n                                                    style={{ width: \"100%\" }}\r\n                                                />\r\n                                            </InputGroup>\r\n                                        </Form.Group>\r\n                                    </div>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <Form.Group className=\"mb-3 flex-grow-1 me-3\" controlId=\"formZipCode\">\r\n                                            <InputGroup>\r\n                                                <InputGroup.Text id=\"formZipCode\">Zip/Postal Code </InputGroup.Text>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Zip/Postal Code\"\r\n                                                    value={zipCode}\r\n                                                    onChange={(e) => setZipCode(e.target.value)}\r\n                                                    style={{ width: \"100%\" }}\r\n                                                />\r\n                                            </InputGroup>\r\n                                        </Form.Group>\r\n                                        <Form.Group className=\"mb-3 flex-grow-1\" controlId=\"formCountry\">\r\n                                            <InputGroup>\r\n                                                <InputGroup.Text id=\"formCountry\">Country </InputGroup.Text>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Country\"\r\n                                                    value={country}\r\n                                                    onChange={(e) => setCountry(e.target.value)}\r\n                                                    style={{ width: \"100%\" }}\r\n                                                />\r\n                                            </InputGroup>\r\n                                        </Form.Group>\r\n                                    </div> \r\n                                    <div className=\"form-box\">\r\n                                        <h5 style={{textAlign:'center'}}>Payment Summary</h5>\r\n                                        <br/>\r\n                                        <div className=\"mb-3\">\r\n                                            <div className=\"align-items\">\r\n                                                <span className=\"label\">Sub Total:</span> \r\n                                                <span className=\"value\">${subTotal.toFixed(2)}</span>\r\n                                            </div>\r\n                                            <div className=\"align-items\">\r\n                                                <span className=\"label\">Discount:</span> \r\n                                                <span className=\"value\">$-{discount.toFixed(2)}</span>\r\n                                            </div>\r\n                                            <div className=\"align-items\">\r\n                                                <span className=\"label\">Server Fee (15%):</span> \r\n                                                <span className=\"value\">${serverFee.toFixed(2)}</span>\r\n                                            </div>\r\n                                            <br/>\r\n                                            <div className=\"align-items\">\r\n                                                <span className=\"label\">Total Cost:</span> \r\n                                                <span className=\"value\">${totalCost.toFixed(2)}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <br/>\r\n                                    </div>        \r\n                                    <div className=\"text-center mt-3\">\r\n                                        <Button\r\n                                            variant=\"success\" \r\n                                            size=\"lg\" \r\n                                            className=\"paynow-button\"\r\n                                            onClick={handleSubmit}\r\n                                            type=\"submit\"\r\n                                        >\r\n                                            Pay Now    \r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Form>\r\n                    </div>\r\n                </div> \r\n            </div>\r\n            {/* Success Modal */}\r\n            <Modal show={showModal} onHide={() => setShowModal(false)}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Payment Successful</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>Your payment was processed successfully!</Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"success\" onClick={() => {\r\n                    setShowModal(false);\r\n                    navigate('/Cart');\r\n                }}>\r\n                    Close\r\n                </Button>\r\n            </Modal.Footer>\r\n            </Modal>\r\n            {/* Error Modal */}\r\n            <Modal show={showErrorModal} onHide={() => setShowErrorModal(false)}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Missing Information</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Please fill in the following mandatory fields: \r\n                    <ul>\r\n                        {missingFields.map((field, index) => (\r\n                            <li key={index}>{field}</li>\r\n                        ))}\r\n                    </ul>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={() => setShowErrorModal(false)}>\r\n                        Close\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </> \r\n    );\r\n}\r\n\r\nexport default Checkout;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}