{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hemko\\\\OneDrive - Otago Polytechnic\\\\01_Courses\\\\10_Studio_03\\\\03_Others\\\\Eco-shop\\\\src\\\\components\\\\Checkout.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Alert, Button, Form, InputGroup, Modal } from \"react-bootstrap\";\nimport Footer from \"./Footer\";\nimport '../css/Checkout.css';\nimport CheckoutService from \"../context/CheckoutServices\";\nimport HeaderSwitcher from \"./HeaderSwitcher\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useLocation } from 'react-router-dom';\nimport { getAuth } from \"firebase/auth\"; //This will import the authentication from firebase\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Checkout() {\n  _s();\n  var _location$state;\n  const [discountCode, setDiscountCode] = useState([]);\n  const [appliedDiscount, setAppliedDiscount] = useState(null);\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [region, setRegion] = useState(\"\");\n  const [zipCode, setZipCode] = useState(\"\");\n  const [message, setMessage] = useState({\n    error: false,\n    msg: \"\"\n  });\n  const [country, setCountry] = useState(\"\");\n  const [subTotal, setSubTotal] = useState(0.00);\n  const [discount, setDiscount] = useState(0.00);\n  const [serverFee, setServerFee] = useState(0.00);\n  const [totalCost, setTotalCost] = useState(0.00);\n  const [showModal, setShowModal] = useState(false);\n  const [showErrorModal, setShowErrorModal] = useState(false);\n  const [missingFields, setMissingFields] = useState([]);\n\n  // Inside the Checkout function\n  const location = useLocation();\n  const selectedProducts = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.selectedProducts) || [];\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Calculate SubTotal when selectedProducts change\n    let subtotal = selectedProducts.reduce((acc, item) => acc + item.productPrice, 0);\n    setSubTotal(subtotal);\n\n    // Calculate Server Fee\n    const serverPercentage = 0.15; // 15% server fee\n    const serverValue = subtotal * serverPercentage;\n    setServerFee(serverValue);\n\n    // Calculate Total Cost without discount\n    const totalCost = subtotal + serverValue;\n    setTotalCost(totalCost);\n  }, [selectedProducts]);\n  const discountCodes = {\n    \"DISCOUNT50\": 0.50,\n    // 50% discount\n    \"DISCOUNT20\": 0.20,\n    // 20% discount\n    \"DISCOUNT15\": 0.15,\n    // 15% discount\n    \"DISCOUNT10\": 0.10 // 10% discount\n  };\n  const handleApplyDiscount = () => {\n    const selectedDiscount = discountCodes[discountCode];\n    if (selectedDiscount) {\n      const discountValue = subTotal * selectedDiscount;\n      const newTotalCost = subTotal - discountValue + serverFee;\n      setDiscount(discountValue);\n      setTotalCost(newTotalCost);\n      setAppliedDiscount(null); // Clear applied discount\n      setDiscountCode(\"\"); // Reset discount code dropdown to default\n      setMessage({\n        error: false,\n        msg: \"Discount applied successfully!\"\n      });\n    } else {\n      setMessage({\n        error: true,\n        msg: \"Invalid discount code!\"\n      });\n    }\n  };\n  const handleRemoveDiscount = () => {\n    const newTotalCost = subTotal + serverFee; // Remove the discount from total cost\n    setDiscount(0);\n    setTotalCost(newTotalCost);\n    setAppliedDiscount(null); // Clear applied discount\n    setMessage({\n      error: false,\n      msg: \"Discount removed successfully!\"\n    });\n  };\n  const handleCardNumberChange = e => {\n    const {\n      value\n    } = e.target; // Safely access value from event target\n    let formattedValue = value.replace(/\\D/g, ''); // Remove all non-digit characters\n    formattedValue = formattedValue.replace(/(\\d{4})(?=\\d)/g, '$1 '); // Add space after every 4 digits\n    setCardNumber(formattedValue); // Update state with formatted value\n  };\n\n  //This will create an encryption for the card number\n  function simpleEncrypt(cardNumber) {\n    return cardNumber.split('').map(char => String.fromCharCode(char.charCodeAt(0) + 3)).join('');\n  }\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Fetch the logged-in user's ID\n    const auth = getAuth();\n    const user = auth.currentUser;\n    const userId = user ? user.uid : null;\n    if (!userId) {\n      setMessage({\n        error: true,\n        msg: \"User not logged in!\"\n      });\n      return;\n    }\n    setMessage(\"\");\n    setMissingFields([]); // Reset missing fields\n\n    // Track missing fields\n    let missingFields = [];\n    if (address === \"\") missingFields.push(\"Street Address\");\n    if (city === \"\") missingFields.push(\"City\");\n    if (region === \"\") missingFields.push(\"State/Province/Region\");\n    if (zipCode === \"\") missingFields.push(\"Zip/Postal Code\");\n    if (country === \"\") missingFields.push(\"Country\");\n    if (cardNumber === \"\") missingFields.push(\"Card Number\");\n    if (missingFields.length > 0) {\n      setMissingFields(missingFields); // Set the missing fields to the state\n      setShowErrorModal(true); // Show the error modal\n      return;\n    }\n    const encryptedCardNumber = simpleEncrypt(cardNumber); // This will store the encrypted card number\n\n    const checkoutData = {\n      paymentId: \"\",\n      // Provide a default empty string or some fallback value\n      userId: userId,\n      // Set the user ID here\n      cardNumber: encryptedCardNumber || \"\",\n      address: address || \"\",\n      city: city || \"\",\n      region: region || \"\",\n      zipCode: zipCode || \"\",\n      country: country || \"\",\n      serverFee: serverFee.toFixed(2),\n      totalCost: totalCost.toFixed(2),\n      items: selectedProducts.map(item => ({\n        productName: item.productName || \"Unknown Product\",\n        productDescription: item.productDescription || \"\",\n        productPrice: item.productPrice || 0,\n        imageUrls: item.imageUrls || \"\",\n        // Use a placeholder URL or empty string if missing\n        sellerId: item.sellerId || \"Unknown Seller\" // Ensure sellerId is provided\n      }))\n    };\n    try {\n      await CheckoutService.addCheckout(checkoutData, userId);\n      setMessage({\n        error: false,\n        msg: \"Payment successful!\"\n      });\n      setShowModal(true); // Show the modal when payment is successful\n    } catch (err) {\n      setMessage({\n        error: true,\n        msg: err.message\n      });\n    }\n    setAddress(\"\");\n    setCity(\"\");\n    setCountry(\"\");\n    setRegion(\"\");\n    setZipCode(\"\");\n    setCardNumber(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 box\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(HeaderSwitcher, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-content\",\n          children: [(message === null || message === void 0 ? void 0 : message.msg) && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: message !== null && message !== void 0 && message.error ? \"danger\" : \"success\",\n            dismissible: true,\n            onClose: () => setMessage(\"\"),\n            children: message === null || message === void 0 ? void 0 : message.msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-center mb-4\",\n            children: \"Checkout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"products-history\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Products History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this), selectedProducts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row justify-content-center\",\n            children: selectedProducts.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [item.imageUrls && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: item.imageUrls[0],\n                      alt: item.productName,\n                      className: \"card-img-top\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false), /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title\",\n                    children: item.productName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: item.productDescription\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"Price: $\", item.productPrice]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 62\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 202,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 33\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Your cart is empty.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-container\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-box\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-container\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    controlId: \"discountSelect\",\n                    children: /*#__PURE__*/_jsxDEV(Form.Select, {\n                      value: discountCode,\n                      onChange: e => setDiscountCode(e.target.value),\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"\",\n                        children: \"Select a discount code\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 221,\n                        columnNumber: 41\n                      }, this), Object.keys(discountCodes).map((code, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: code,\n                        children: [code, \" - \", discountCodes[code] * 100, \"% off\"]\n                      }, index, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 45\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 217,\n                      columnNumber: 41\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    size: \"md\",\n                    className: \"apply-button\",\n                    onClick: handleApplyDiscount,\n                    children: \"Apply\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"danger\",\n                    size: \"md\",\n                    className: \"remove-button\",\n                    onClick: handleRemoveDiscount,\n                    children: \"Remove\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  controlId: \"formCardNumber\",\n                  children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      id: \"formCardNumber\",\n                      children: \"Card Number \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"xxxx xxxx xxxx xxxx\",\n                      maxLength: 19,\n                      value: cardNumber,\n                      onChange: e => handleCardNumberChange(e),\n                      style: {\n                        width: \"100%\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Billing Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  className: \"mb-3\",\n                  controlId: \"formStreetAddress\",\n                  children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                    children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                      id: \"formStreetAddress\",\n                      children: \"Street Address \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                      type: \"text\",\n                      placeholder: \"Street Address\",\n                      value: address,\n                      onChange: e => setAddress(e.target.value),\n                      style: {\n                        width: \"100%\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3 flex-grow-1 me-3\",\n                    controlId: \"formCity\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"formCity\",\n                        children: \"City \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"City\",\n                        value: city,\n                        onChange: e => setCity(e.target.value),\n                        style: {\n                          width: \"100%\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 278,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3 flex-grow-1\",\n                    controlId: \"formRegion\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"formRegion\",\n                        children: \"State/Province/Region \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"State/Province/Region\",\n                        value: region,\n                        onChange: e => setRegion(e.target.value),\n                        style: {\n                          width: \"100%\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex justify-content-between\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3 flex-grow-1 me-3\",\n                    controlId: \"formZipCode\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"formZipCode\",\n                        children: \"Zip/Postal Code \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Zip/Postal Code\",\n                        value: zipCode,\n                        onChange: e => setZipCode(e.target.value),\n                        style: {\n                          width: \"100%\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                    className: \"mb-3 flex-grow-1\",\n                    controlId: \"formCountry\",\n                    children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n                        id: \"formCountry\",\n                        children: \"Country \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                        type: \"text\",\n                        placeholder: \"Country\",\n                        value: country,\n                        onChange: e => setCountry(e.target.value),\n                        style: {\n                          width: \"100%\"\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-box\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: \"Payment Summary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"align-items\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label\",\n                        children: \"Sub Total:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"value\",\n                        children: [\"$\", subTotal.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 332,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"align-items\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label\",\n                        children: \"Discount:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 335,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"value\",\n                        children: [\"$-\", discount.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 336,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"align-items\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label\",\n                        children: \"Server Fee (15%):\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 339,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"value\",\n                        children: [\"$\", serverFee.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 340,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"align-items\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label\",\n                        children: \"Total Cost:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 344,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"value\",\n                        children: [\"$\", totalCost.toFixed(2)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 348,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center mt-3\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"success\",\n                    size: \"lg\",\n                    className: \"paynow-button\",\n                    onClick: handleSubmit,\n                    type: \"submit\",\n                    children: \"Pay Now\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 351,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: () => setShowModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Payment Successful\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: \"Your payment was processed successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: () => {\n            setShowModal(false);\n            navigate('/Cart');\n          },\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showErrorModal,\n      onHide: () => setShowErrorModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Missing Information\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [\"Please fill in the following mandatory fields:\", /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: missingFields.map((field, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: field\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: () => setShowErrorModal(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(Checkout, \"uab5HvKCCrHmsBXz8XSjYJ000gI=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = Checkout;\nexport default Checkout;\nvar _c;\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useEffect","Alert","Button","Form","InputGroup","Modal","Footer","CheckoutService","HeaderSwitcher","useNavigate","useLocation","getAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Checkout","_s","_location$state","discountCode","setDiscountCode","appliedDiscount","setAppliedDiscount","cardNumber","setCardNumber","address","setAddress","city","setCity","region","setRegion","zipCode","setZipCode","message","setMessage","error","msg","country","setCountry","subTotal","setSubTotal","discount","setDiscount","serverFee","setServerFee","totalCost","setTotalCost","showModal","setShowModal","showErrorModal","setShowErrorModal","missingFields","setMissingFields","location","selectedProducts","state","navigate","subtotal","reduce","acc","item","productPrice","serverPercentage","serverValue","discountCodes","handleApplyDiscount","selectedDiscount","discountValue","newTotalCost","handleRemoveDiscount","handleCardNumberChange","e","value","target","formattedValue","replace","simpleEncrypt","split","map","char","String","fromCharCode","charCodeAt","join","handleSubmit","preventDefault","auth","user","currentUser","userId","uid","push","length","encryptedCardNumber","checkoutData","paymentId","toFixed","items","productName","productDescription","imageUrls","sellerId","addCheckout","err","children","className","fileName","_jsxFileName","lineNumber","columnNumber","variant","dismissible","onClose","index","src","alt","onSubmit","Group","controlId","Select","onChange","Object","keys","code","size","onClick","Text","id","Control","type","placeholder","maxLength","style","width","textAlign","show","onHide","Header","closeButton","Title","Body","field","_c","$RefreshReg$"],"sources":["C:/Users/hemko/OneDrive - Otago Polytechnic/01_Courses/10_Studio_03/03_Others/Eco-shop/src/components/Checkout.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Alert, Button, Form, InputGroup, Modal } from \"react-bootstrap\";\r\nimport Footer from \"./Footer\";\r\nimport '../css/Checkout.css';\r\nimport CheckoutService from \"../context/CheckoutServices\";\r\nimport HeaderSwitcher from \"./HeaderSwitcher\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport { getAuth } from \"firebase/auth\"; //This will import the authentication from firebase\r\n\r\nfunction Checkout() {\r\n    const [discountCode, setDiscountCode] = useState([]);\r\n    const [appliedDiscount, setAppliedDiscount] = useState(null);\r\n    const [cardNumber, setCardNumber] = useState(\"\");\r\n    const [address, setAddress] = useState(\"\");\r\n    const [city, setCity] = useState(\"\");\r\n    const [region, setRegion] = useState(\"\");\r\n    const [zipCode, setZipCode] = useState(\"\");\r\n    const [message, setMessage] = useState({ error: false, msg: \"\" });\r\n    const [country, setCountry] = useState(\"\");\r\n    const [subTotal, setSubTotal] = useState(0.00);\r\n    const [discount, setDiscount] = useState(0.00);\r\n    const [serverFee, setServerFee] = useState(0.00);\r\n    const [totalCost, setTotalCost] = useState(0.00);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [showErrorModal, setShowErrorModal] = useState(false);\r\n    const [missingFields, setMissingFields] = useState([]);\r\n    \r\n    // Inside the Checkout function\r\n    const location = useLocation();\r\n    const selectedProducts = location.state?.selectedProducts || [];\r\n\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        // Calculate SubTotal when selectedProducts change\r\n        let subtotal = selectedProducts.reduce((acc, item) => acc + item.productPrice, 0);\r\n        setSubTotal(subtotal);\r\n      \r\n        // Calculate Server Fee\r\n        const serverPercentage = 0.15; // 15% server fee\r\n        const serverValue = subtotal * serverPercentage;\r\n        setServerFee(serverValue);\r\n      \r\n        // Calculate Total Cost without discount\r\n        const totalCost = subtotal + serverValue;\r\n        setTotalCost(totalCost);\r\n      }, [selectedProducts]);\r\n      \r\n    \r\n    const discountCodes = {\r\n        \"DISCOUNT50\": 0.50, // 50% discount\r\n        \"DISCOUNT20\": 0.20, // 20% discount\r\n        \"DISCOUNT15\": 0.15, // 15% discount\r\n        \"DISCOUNT10\": 0.10  // 10% discount\r\n    };\r\n\r\n    const handleApplyDiscount = () => {\r\n        const selectedDiscount = discountCodes[discountCode];\r\n        \r\n        if (selectedDiscount) {\r\n            const discountValue = subTotal * selectedDiscount;\r\n            const newTotalCost = subTotal - discountValue + serverFee;\r\n    \r\n            setDiscount(discountValue);\r\n            setTotalCost(newTotalCost);\r\n            setAppliedDiscount(null);  // Clear applied discount\r\n            setDiscountCode(\"\"); // Reset discount code dropdown to default\r\n            setMessage({ error: false, msg: \"Discount applied successfully!\" });\r\n        } else {\r\n            setMessage({ error: true, msg: \"Invalid discount code!\" });\r\n        }\r\n    };    \r\n\r\n    const handleRemoveDiscount = () => {\r\n        const newTotalCost = subTotal + serverFee; // Remove the discount from total cost\r\n        setDiscount(0);\r\n        setTotalCost(newTotalCost);\r\n        setAppliedDiscount(null); // Clear applied discount\r\n        setMessage({ error: false, msg: \"Discount removed successfully!\" });\r\n    };\r\n    \r\n    const handleCardNumberChange = (e) => {\r\n        const { value } = e.target; // Safely access value from event target\r\n        let formattedValue = value.replace(/\\D/g, ''); // Remove all non-digit characters\r\n        formattedValue = formattedValue.replace(/(\\d{4})(?=\\d)/g, '$1 '); // Add space after every 4 digits\r\n        setCardNumber(formattedValue); // Update state with formatted value\r\n    };\r\n    \r\n    //This will create an encryption for the card number\r\n    function simpleEncrypt(cardNumber) {\r\n        return cardNumber.split('').map(char => String.fromCharCode(char.charCodeAt(0) + 3)).join('');\r\n    }\r\n    \r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        // Fetch the logged-in user's ID\r\n        const auth = getAuth();\r\n        const user = auth.currentUser;\r\n        const userId = user ? user.uid : null;\r\n\r\n        if (!userId) {\r\n            setMessage({ error: true, msg: \"User not logged in!\" });\r\n            return;\r\n        }\r\n\r\n        setMessage(\"\");\r\n        setMissingFields([]);  // Reset missing fields\r\n\r\n        // Track missing fields\r\n        let missingFields = [];\r\n\r\n        if (address === \"\") missingFields.push(\"Street Address\");\r\n        if (city === \"\") missingFields.push(\"City\");\r\n        if (region === \"\") missingFields.push(\"State/Province/Region\");\r\n        if (zipCode === \"\") missingFields.push(\"Zip/Postal Code\");\r\n        if (country === \"\") missingFields.push(\"Country\");\r\n        if (cardNumber === \"\") missingFields.push(\"Card Number\");\r\n\r\n        if (missingFields.length > 0) {\r\n            setMissingFields(missingFields);  // Set the missing fields to the state\r\n            setShowErrorModal(true);  // Show the error modal\r\n            return;\r\n        }\r\n\r\n        const encryptedCardNumber = simpleEncrypt(cardNumber);// This will store the encrypted card number\r\n\r\n        const checkoutData = {\r\n            paymentId: \"\", // Provide a default empty string or some fallback value\r\n            userId: userId,  // Set the user ID here\r\n            cardNumber: encryptedCardNumber || \"\",\r\n            address: address || \"\",\r\n            city: city || \"\",\r\n            region: region || \"\",\r\n            zipCode: zipCode || \"\",\r\n            country: country || \"\",\r\n            serverFee: serverFee.toFixed(2),\r\n            totalCost: totalCost.toFixed(2),\r\n            items: selectedProducts.map(item => ({\r\n                productName: item.productName || \"Unknown Product\",\r\n                productDescription: item.productDescription || \"\",\r\n                productPrice: item.productPrice || 0,\r\n                imageUrls: item.imageUrls || \"\", // Use a placeholder URL or empty string if missing\r\n                sellerId: item.sellerId || \"Unknown Seller\", // Ensure sellerId is provided\r\n            }))\r\n        };\r\n        \r\n        try {\r\n            await CheckoutService.addCheckout(checkoutData, userId);\r\n            setMessage({ error: false, msg: \"Payment successful!\" });\r\n            setShowModal(true); // Show the modal when payment is successful\r\n        } catch (err) {\r\n            setMessage({ error: true, msg: err.message });\r\n        }\r\n\r\n        setAddress(\"\");\r\n        setCity(\"\");\r\n        setCountry(\"\");\r\n        setRegion(\"\");\r\n        setZipCode(\"\");\r\n        setCardNumber(\"\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"p-4 box\">\r\n                <div className=\"wrapper\">\r\n                    <HeaderSwitcher/>\r\n                    <div className=\"main-content\">\r\n                        {message?.msg && (\r\n                            <Alert\r\n                                variant={message?.error ? \"danger\" : \"success\"}\r\n                                dismissible\r\n                                onClose={() => setMessage(\"\")}\r\n                            >\r\n                                {message?.msg}\r\n                            </Alert>\r\n                        )}\r\n                        <h2 className=\"text-center mb-4\">Checkout</h2>\r\n                        <div className=\"products-history\">\r\n                        <h4>Products History</h4>\r\n                        </div>\r\n                        <br/>\r\n                        {selectedProducts.length > 0 ? (\r\n                        <div className=\"row justify-content-center\">\r\n                            {selectedProducts.map((item, index) => (\r\n                            <div className=\"col-md-4\" key={index}>\r\n                                <div className=\"card text-center\">\r\n                                <div className=\"card-body\">\r\n                                    {item.imageUrls && (\r\n                                    <>\r\n                                        <img \r\n                                        src={item.imageUrls[0]} \r\n                                        alt={item.productName} \r\n                                        className=\"card-img-top\"\r\n                                        />\r\n                                    </>\r\n                                    )}\r\n                                    <h5 className=\"card-title\">{item.productName}</h5>\r\n                                    <p className=\"card-text\">{item.productDescription}</p>\r\n                                    <p className=\"card-text\"><strong>Price: ${item.productPrice}</strong></p>\r\n                                </div>\r\n                                </div>\r\n                            </div>\r\n                            ))}\r\n                        </div>\r\n                        ) : (\r\n                        <p>Your cart is empty.</p>\r\n                        )}\r\n                        <br/>\r\n                        <Form onSubmit={handleSubmit}>\r\n                            <div className=\"form-container\">\r\n                                <div className=\"form-box\">\r\n                                    <div className=\"flex-container\">\r\n                                    <Form.Group controlId=\"discountSelect\">\r\n                                        <Form.Select\r\n                                        value={discountCode}\r\n                                        onChange={(e) => setDiscountCode(e.target.value)}\r\n                                        >\r\n                                        <option value=\"\">Select a discount code</option>\r\n                                        {Object.keys(discountCodes).map((code, index) => (\r\n                                            <option key={index} value={code}>\r\n                                                {code} - {discountCodes[code] * 100}% off\r\n                                            </option>\r\n                                        ))}\r\n                                        </Form.Select>\r\n                                    </Form.Group>\r\n                                        <Button\r\n                                            variant=\"success\" \r\n                                            size=\"md\" \r\n                                            className=\"apply-button\"\r\n                                            onClick={handleApplyDiscount}\r\n                                        >\r\n                                            Apply    \r\n                                        </Button>\r\n                                        <Button\r\n                                            variant=\"danger\"\r\n                                            size=\"md\"\r\n                                            className=\"remove-button\"\r\n                                            onClick={handleRemoveDiscount}\r\n                                        >\r\n                                            Remove\r\n                                        </Button>\r\n                                        \r\n                                    </div> \r\n                                    <Form.Group className=\"mb-3\" controlId=\"formCardNumber\">\r\n                                        <InputGroup>\r\n                                            <InputGroup.Text id=\"formCardNumber\">Card Number </InputGroup.Text>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"xxxx xxxx xxxx xxxx\"\r\n                                                maxLength={19}\r\n                                                value={cardNumber}\r\n                                                onChange={(e) => handleCardNumberChange(e)}\r\n                                                style={{ width: \"100%\" }}\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Form.Group>\r\n                                    <p>Billing Address</p>\r\n                                    <hr/>\r\n                                    <Form.Group className=\"mb-3\" controlId=\"formStreetAddress\">\r\n                                        <InputGroup>\r\n                                            <InputGroup.Text id=\"formStreetAddress\">Street Address </InputGroup.Text>\r\n                                            <Form.Control\r\n                                                type=\"text\"\r\n                                                placeholder=\"Street Address\"\r\n                                                value={address}\r\n                                                onChange={(e) => setAddress(e.target.value)}\r\n                                                style={{ width: \"100%\" }}\r\n                                            />\r\n                                        </InputGroup>\r\n                                    </Form.Group>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <Form.Group className=\"mb-3 flex-grow-1 me-3\" controlId=\"formCity\">\r\n                                            <InputGroup>\r\n                                                <InputGroup.Text id=\"formCity\">City </InputGroup.Text>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"City\"\r\n                                                    value={city}\r\n                                                    onChange={(e) => setCity(e.target.value)}\r\n                                                    style={{ width: \"100%\" }}\r\n                                                />\r\n                                            </InputGroup>\r\n                                        </Form.Group>\r\n                                        <Form.Group className=\"mb-3 flex-grow-1\" controlId=\"formRegion\">\r\n                                            <InputGroup>\r\n                                                <InputGroup.Text id=\"formRegion\">State/Province/Region </InputGroup.Text>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"State/Province/Region\"\r\n                                                    value={region}\r\n                                                    onChange={(e) => setRegion(e.target.value)}\r\n                                                    style={{ width: \"100%\" }}\r\n                                                />\r\n                                            </InputGroup>\r\n                                        </Form.Group>\r\n                                    </div>\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <Form.Group className=\"mb-3 flex-grow-1 me-3\" controlId=\"formZipCode\">\r\n                                            <InputGroup>\r\n                                                <InputGroup.Text id=\"formZipCode\">Zip/Postal Code </InputGroup.Text>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Zip/Postal Code\"\r\n                                                    value={zipCode}\r\n                                                    onChange={(e) => setZipCode(e.target.value)}\r\n                                                    style={{ width: \"100%\" }}\r\n                                                />\r\n                                            </InputGroup>\r\n                                        </Form.Group>\r\n                                        <Form.Group className=\"mb-3 flex-grow-1\" controlId=\"formCountry\">\r\n                                            <InputGroup>\r\n                                                <InputGroup.Text id=\"formCountry\">Country </InputGroup.Text>\r\n                                                <Form.Control\r\n                                                    type=\"text\"\r\n                                                    placeholder=\"Country\"\r\n                                                    value={country}\r\n                                                    onChange={(e) => setCountry(e.target.value)}\r\n                                                    style={{ width: \"100%\" }}\r\n                                                />\r\n                                            </InputGroup>\r\n                                        </Form.Group>\r\n                                    </div> \r\n                                    <div className=\"form-box\">\r\n                                        <h5 style={{textAlign:'center'}}>Payment Summary</h5>\r\n                                        <br/>\r\n                                        <div className=\"mb-3\">\r\n                                            <div className=\"align-items\">\r\n                                                <span className=\"label\">Sub Total:</span> \r\n                                                <span className=\"value\">${subTotal.toFixed(2)}</span>\r\n                                            </div>\r\n                                            <div className=\"align-items\">\r\n                                                <span className=\"label\">Discount:</span> \r\n                                                <span className=\"value\">$-{discount.toFixed(2)}</span>\r\n                                            </div>\r\n                                            <div className=\"align-items\">\r\n                                                <span className=\"label\">Server Fee (15%):</span> \r\n                                                <span className=\"value\">${serverFee.toFixed(2)}</span>\r\n                                            </div>\r\n                                            <br/>\r\n                                            <div className=\"align-items\">\r\n                                                <span className=\"label\">Total Cost:</span> \r\n                                                <span className=\"value\">${totalCost.toFixed(2)}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <br/>\r\n                                    </div>        \r\n                                    <div className=\"text-center mt-3\">\r\n                                        <Button\r\n                                            variant=\"success\" \r\n                                            size=\"lg\" \r\n                                            className=\"paynow-button\"\r\n                                            onClick={handleSubmit}\r\n                                            type=\"submit\"\r\n                                        >\r\n                                            Pay Now    \r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Form>\r\n                    </div>\r\n                    <Footer/>\r\n                </div> \r\n            </div>\r\n            {/* Success Modal */}\r\n            <Modal show={showModal} onHide={() => setShowModal(false)}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Payment Successful</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>Your payment was processed successfully!</Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"success\" onClick={() => {\r\n                    setShowModal(false);\r\n                    navigate('/Cart');\r\n                }}>\r\n                    Close\r\n                </Button>\r\n            </Modal.Footer>\r\n            </Modal>\r\n            {/* Error Modal */}\r\n            <Modal show={showErrorModal} onHide={() => setShowErrorModal(false)}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Missing Information</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Please fill in the following mandatory fields: \r\n                    <ul>\r\n                        {missingFields.map((field, index) => (\r\n                            <li key={index}>{field}</li>\r\n                        ))}\r\n                    </ul>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={() => setShowErrorModal(false)}>\r\n                        Close\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        </> \r\n    );\r\n}\r\n\r\nexport default Checkout;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,KAAK,EAAEC,MAAM,EAAEC,IAAI,EAAEC,UAAU,EAAEC,KAAK,QAAQ,iBAAiB;AACxE,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAO,qBAAqB;AAC5B,OAAOC,eAAe,MAAM,6BAA6B;AACzD,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,OAAO,QAAQ,eAAe,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEzC,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,eAAA;EAChB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACsB,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAACwB,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC0B,OAAO,EAAEC,UAAU,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC4B,IAAI,EAAEC,OAAO,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAAC8B,MAAM,EAAEC,SAAS,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACgC,OAAO,EAAEC,UAAU,CAAC,GAAGjC,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACkC,OAAO,EAAEC,UAAU,CAAC,GAAGnC,QAAQ,CAAC;IAAEoC,KAAK,EAAE,KAAK;IAAEC,GAAG,EAAE;EAAG,CAAC,CAAC;EACjE,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACwC,QAAQ,EAAEC,WAAW,CAAC,GAAGzC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC0C,QAAQ,EAAEC,WAAW,CAAC,GAAG3C,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAAC4C,SAAS,EAAEC,YAAY,CAAC,GAAG7C,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAAC8C,SAAS,EAAEC,YAAY,CAAC,GAAG/C,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACgD,SAAS,EAAEC,YAAY,CAAC,GAAGjD,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACkD,cAAc,EAAEC,iBAAiB,CAAC,GAAGnD,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACoD,aAAa,EAAEC,gBAAgB,CAAC,GAAGrD,QAAQ,CAAC,EAAE,CAAC;;EAEtD;EACA,MAAMsD,QAAQ,GAAG3C,WAAW,CAAC,CAAC;EAC9B,MAAM4C,gBAAgB,GAAG,EAAApC,eAAA,GAAAmC,QAAQ,CAACE,KAAK,cAAArC,eAAA,uBAAdA,eAAA,CAAgBoC,gBAAgB,KAAI,EAAE;EAE/D,MAAME,QAAQ,GAAG/C,WAAW,CAAC,CAAC;EAE9BT,SAAS,CAAC,MAAM;IACZ;IACA,IAAIyD,QAAQ,GAAGH,gBAAgB,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACC,YAAY,EAAE,CAAC,CAAC;IACjFrB,WAAW,CAACiB,QAAQ,CAAC;;IAErB;IACA,MAAMK,gBAAgB,GAAG,IAAI,CAAC,CAAC;IAC/B,MAAMC,WAAW,GAAGN,QAAQ,GAAGK,gBAAgB;IAC/ClB,YAAY,CAACmB,WAAW,CAAC;;IAEzB;IACA,MAAMlB,SAAS,GAAGY,QAAQ,GAAGM,WAAW;IACxCjB,YAAY,CAACD,SAAS,CAAC;EACzB,CAAC,EAAE,CAACS,gBAAgB,CAAC,CAAC;EAGxB,MAAMU,aAAa,GAAG;IAClB,YAAY,EAAE,IAAI;IAAE;IACpB,YAAY,EAAE,IAAI;IAAE;IACpB,YAAY,EAAE,IAAI;IAAE;IACpB,YAAY,EAAE,IAAI,CAAE;EACxB,CAAC;EAED,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;IAC9B,MAAMC,gBAAgB,GAAGF,aAAa,CAAC7C,YAAY,CAAC;IAEpD,IAAI+C,gBAAgB,EAAE;MAClB,MAAMC,aAAa,GAAG5B,QAAQ,GAAG2B,gBAAgB;MACjD,MAAME,YAAY,GAAG7B,QAAQ,GAAG4B,aAAa,GAAGxB,SAAS;MAEzDD,WAAW,CAACyB,aAAa,CAAC;MAC1BrB,YAAY,CAACsB,YAAY,CAAC;MAC1B9C,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAE;MAC3BF,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;MACrBc,UAAU,CAAC;QAAEC,KAAK,EAAE,KAAK;QAAEC,GAAG,EAAE;MAAiC,CAAC,CAAC;IACvE,CAAC,MAAM;MACHF,UAAU,CAAC;QAAEC,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE;MAAyB,CAAC,CAAC;IAC9D;EACJ,CAAC;EAED,MAAMiC,oBAAoB,GAAGA,CAAA,KAAM;IAC/B,MAAMD,YAAY,GAAG7B,QAAQ,GAAGI,SAAS,CAAC,CAAC;IAC3CD,WAAW,CAAC,CAAC,CAAC;IACdI,YAAY,CAACsB,YAAY,CAAC;IAC1B9C,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1BY,UAAU,CAAC;MAAEC,KAAK,EAAE,KAAK;MAAEC,GAAG,EAAE;IAAiC,CAAC,CAAC;EACvE,CAAC;EAED,MAAMkC,sBAAsB,GAAIC,CAAC,IAAK;IAClC,MAAM;MAAEC;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM,CAAC,CAAC;IAC5B,IAAIC,cAAc,GAAGF,KAAK,CAACG,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;IAC/CD,cAAc,GAAGA,cAAc,CAACC,OAAO,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC,CAAC;IAClEnD,aAAa,CAACkD,cAAc,CAAC,CAAC,CAAC;EACnC,CAAC;;EAED;EACA,SAASE,aAAaA,CAACrD,UAAU,EAAE;IAC/B,OAAOA,UAAU,CAACsD,KAAK,CAAC,EAAE,CAAC,CAACC,GAAG,CAACC,IAAI,IAAIC,MAAM,CAACC,YAAY,CAACF,IAAI,CAACG,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,EAAE,CAAC;EACjG;EAEA,MAAMC,YAAY,GAAG,MAAOb,CAAC,IAAK;IAC9BA,CAAC,CAACc,cAAc,CAAC,CAAC;;IAElB;IACA,MAAMC,IAAI,GAAG3E,OAAO,CAAC,CAAC;IACtB,MAAM4E,IAAI,GAAGD,IAAI,CAACE,WAAW;IAC7B,MAAMC,MAAM,GAAGF,IAAI,GAAGA,IAAI,CAACG,GAAG,GAAG,IAAI;IAErC,IAAI,CAACD,MAAM,EAAE;MACTvD,UAAU,CAAC;QAAEC,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAE;MAAsB,CAAC,CAAC;MACvD;IACJ;IAEAF,UAAU,CAAC,EAAE,CAAC;IACdkB,gBAAgB,CAAC,EAAE,CAAC,CAAC,CAAE;;IAEvB;IACA,IAAID,aAAa,GAAG,EAAE;IAEtB,IAAI1B,OAAO,KAAK,EAAE,EAAE0B,aAAa,CAACwC,IAAI,CAAC,gBAAgB,CAAC;IACxD,IAAIhE,IAAI,KAAK,EAAE,EAAEwB,aAAa,CAACwC,IAAI,CAAC,MAAM,CAAC;IAC3C,IAAI9D,MAAM,KAAK,EAAE,EAAEsB,aAAa,CAACwC,IAAI,CAAC,uBAAuB,CAAC;IAC9D,IAAI5D,OAAO,KAAK,EAAE,EAAEoB,aAAa,CAACwC,IAAI,CAAC,iBAAiB,CAAC;IACzD,IAAItD,OAAO,KAAK,EAAE,EAAEc,aAAa,CAACwC,IAAI,CAAC,SAAS,CAAC;IACjD,IAAIpE,UAAU,KAAK,EAAE,EAAE4B,aAAa,CAACwC,IAAI,CAAC,aAAa,CAAC;IAExD,IAAIxC,aAAa,CAACyC,MAAM,GAAG,CAAC,EAAE;MAC1BxC,gBAAgB,CAACD,aAAa,CAAC,CAAC,CAAE;MAClCD,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAE;MAC1B;IACJ;IAEA,MAAM2C,mBAAmB,GAAGjB,aAAa,CAACrD,UAAU,CAAC,CAAC;;IAEtD,MAAMuE,YAAY,GAAG;MACjBC,SAAS,EAAE,EAAE;MAAE;MACfN,MAAM,EAAEA,MAAM;MAAG;MACjBlE,UAAU,EAAEsE,mBAAmB,IAAI,EAAE;MACrCpE,OAAO,EAAEA,OAAO,IAAI,EAAE;MACtBE,IAAI,EAAEA,IAAI,IAAI,EAAE;MAChBE,MAAM,EAAEA,MAAM,IAAI,EAAE;MACpBE,OAAO,EAAEA,OAAO,IAAI,EAAE;MACtBM,OAAO,EAAEA,OAAO,IAAI,EAAE;MACtBM,SAAS,EAAEA,SAAS,CAACqD,OAAO,CAAC,CAAC,CAAC;MAC/BnD,SAAS,EAAEA,SAAS,CAACmD,OAAO,CAAC,CAAC,CAAC;MAC/BC,KAAK,EAAE3C,gBAAgB,CAACwB,GAAG,CAAClB,IAAI,KAAK;QACjCsC,WAAW,EAAEtC,IAAI,CAACsC,WAAW,IAAI,iBAAiB;QAClDC,kBAAkB,EAAEvC,IAAI,CAACuC,kBAAkB,IAAI,EAAE;QACjDtC,YAAY,EAAED,IAAI,CAACC,YAAY,IAAI,CAAC;QACpCuC,SAAS,EAAExC,IAAI,CAACwC,SAAS,IAAI,EAAE;QAAE;QACjCC,QAAQ,EAAEzC,IAAI,CAACyC,QAAQ,IAAI,gBAAgB,CAAE;MACjD,CAAC,CAAC;IACN,CAAC;IAED,IAAI;MACA,MAAM9F,eAAe,CAAC+F,WAAW,CAACR,YAAY,EAAEL,MAAM,CAAC;MACvDvD,UAAU,CAAC;QAAEC,KAAK,EAAE,KAAK;QAAEC,GAAG,EAAE;MAAsB,CAAC,CAAC;MACxDY,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOuD,GAAG,EAAE;MACVrE,UAAU,CAAC;QAAEC,KAAK,EAAE,IAAI;QAAEC,GAAG,EAAEmE,GAAG,CAACtE;MAAQ,CAAC,CAAC;IACjD;IAEAP,UAAU,CAAC,EAAE,CAAC;IACdE,OAAO,CAAC,EAAE,CAAC;IACXU,UAAU,CAAC,EAAE,CAAC;IACdR,SAAS,CAAC,EAAE,CAAC;IACbE,UAAU,CAAC,EAAE,CAAC;IACdR,aAAa,CAAC,EAAE,CAAC;EACrB,CAAC;EAED,oBACIX,OAAA,CAAAE,SAAA;IAAAyF,QAAA,gBACI3F,OAAA;MAAK4F,SAAS,EAAC,SAAS;MAAAD,QAAA,eACpB3F,OAAA;QAAK4F,SAAS,EAAC,SAAS;QAAAD,QAAA,gBACpB3F,OAAA,CAACL,cAAc;UAAAkG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eACjBhG,OAAA;UAAK4F,SAAS,EAAC,cAAc;UAAAD,QAAA,GACxB,CAAAvE,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG,GAAG,kBACTvB,OAAA,CAACZ,KAAK;YACF6G,OAAO,EAAE7E,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEE,KAAK,GAAG,QAAQ,GAAG,SAAU;YAC/C4E,WAAW;YACXC,OAAO,EAAEA,CAAA,KAAM9E,UAAU,CAAC,EAAE,CAAE;YAAAsE,QAAA,EAE7BvE,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEG;UAAG;YAAAsE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACV,CACV,eACDhG,OAAA;YAAI4F,SAAS,EAAC,kBAAkB;YAAAD,QAAA,EAAC;UAAQ;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC9ChG,OAAA;YAAK4F,SAAS,EAAC,kBAAkB;YAAAD,QAAA,eACjC3F,OAAA;cAAA2F,QAAA,EAAI;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CAAC,eACNhG,OAAA;YAAA6F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EACJvD,gBAAgB,CAACsC,MAAM,GAAG,CAAC,gBAC5B/E,OAAA;YAAK4F,SAAS,EAAC,4BAA4B;YAAAD,QAAA,EACtClD,gBAAgB,CAACwB,GAAG,CAAC,CAAClB,IAAI,EAAEqD,KAAK,kBAClCpG,OAAA;cAAK4F,SAAS,EAAC,UAAU;cAAAD,QAAA,eACrB3F,OAAA;gBAAK4F,SAAS,EAAC,kBAAkB;gBAAAD,QAAA,eACjC3F,OAAA;kBAAK4F,SAAS,EAAC,WAAW;kBAAAD,QAAA,GACrB5C,IAAI,CAACwC,SAAS,iBACfvF,OAAA,CAAAE,SAAA;oBAAAyF,QAAA,eACI3F,OAAA;sBACAqG,GAAG,EAAEtD,IAAI,CAACwC,SAAS,CAAC,CAAC,CAAE;sBACvBe,GAAG,EAAEvD,IAAI,CAACsC,WAAY;sBACtBO,SAAS,EAAC;oBAAc;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACvB;kBAAC,gBACJ,CACD,eACDhG,OAAA;oBAAI4F,SAAS,EAAC,YAAY;oBAAAD,QAAA,EAAE5C,IAAI,CAACsC;kBAAW;oBAAAQ,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAClDhG,OAAA;oBAAG4F,SAAS,EAAC,WAAW;oBAAAD,QAAA,EAAE5C,IAAI,CAACuC;kBAAkB;oBAAAO,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACtDhG,OAAA;oBAAG4F,SAAS,EAAC,WAAW;oBAAAD,QAAA,eAAC3F,OAAA;sBAAA2F,QAAA,GAAQ,UAAQ,EAAC5C,IAAI,CAACC,YAAY;oBAAA;sBAAA6C,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAS;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACxE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD;YAAC,GAhBqBI,KAAK;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAiB/B,CACJ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,gBAENhG,OAAA;YAAA2F,QAAA,EAAG;UAAmB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CACxB,eACDhG,OAAA;YAAA6F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLhG,OAAA,CAACV,IAAI;YAACiH,QAAQ,EAAEhC,YAAa;YAAAoB,QAAA,eACzB3F,OAAA;cAAK4F,SAAS,EAAC,gBAAgB;cAAAD,QAAA,eAC3B3F,OAAA;gBAAK4F,SAAS,EAAC,UAAU;gBAAAD,QAAA,gBACrB3F,OAAA;kBAAK4F,SAAS,EAAC,gBAAgB;kBAAAD,QAAA,gBAC/B3F,OAAA,CAACV,IAAI,CAACkH,KAAK;oBAACC,SAAS,EAAC,gBAAgB;oBAAAd,QAAA,eAClC3F,OAAA,CAACV,IAAI,CAACoH,MAAM;sBACZ/C,KAAK,EAAErD,YAAa;sBACpBqG,QAAQ,EAAGjD,CAAC,IAAKnD,eAAe,CAACmD,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE;sBAAAgC,QAAA,gBAEjD3F,OAAA;wBAAQ2D,KAAK,EAAC,EAAE;wBAAAgC,QAAA,EAAC;sBAAsB;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,EAC/CY,MAAM,CAACC,IAAI,CAAC1D,aAAa,CAAC,CAACc,GAAG,CAAC,CAAC6C,IAAI,EAAEV,KAAK,kBACxCpG,OAAA;wBAAoB2D,KAAK,EAAEmD,IAAK;wBAAAnB,QAAA,GAC3BmB,IAAI,EAAC,KAAG,EAAC3D,aAAa,CAAC2D,IAAI,CAAC,GAAG,GAAG,EAAC,OACxC;sBAAA,GAFaV,KAAK;wBAAAP,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAEV,CACX,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACW;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACN,CAAC,eACThG,OAAA,CAACX,MAAM;oBACH4G,OAAO,EAAC,SAAS;oBACjBc,IAAI,EAAC,IAAI;oBACTnB,SAAS,EAAC,cAAc;oBACxBoB,OAAO,EAAE5D,mBAAoB;oBAAAuC,QAAA,EAChC;kBAED;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,eACThG,OAAA,CAACX,MAAM;oBACH4G,OAAO,EAAC,QAAQ;oBAChBc,IAAI,EAAC,IAAI;oBACTnB,SAAS,EAAC,eAAe;oBACzBoB,OAAO,EAAExD,oBAAqB;oBAAAmC,QAAA,EACjC;kBAED;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAER,CAAC,eACNhG,OAAA,CAACV,IAAI,CAACkH,KAAK;kBAACZ,SAAS,EAAC,MAAM;kBAACa,SAAS,EAAC,gBAAgB;kBAAAd,QAAA,eACnD3F,OAAA,CAACT,UAAU;oBAAAoG,QAAA,gBACP3F,OAAA,CAACT,UAAU,CAAC0H,IAAI;sBAACC,EAAE,EAAC,gBAAgB;sBAAAvB,QAAA,EAAC;oBAAY;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAiB,CAAC,eACnEhG,OAAA,CAACV,IAAI,CAAC6H,OAAO;sBACTC,IAAI,EAAC,MAAM;sBACXC,WAAW,EAAC,qBAAqB;sBACjCC,SAAS,EAAE,EAAG;sBACd3D,KAAK,EAAEjD,UAAW;sBAClBiG,QAAQ,EAAGjD,CAAC,IAAKD,sBAAsB,CAACC,CAAC,CAAE;sBAC3C6D,KAAK,EAAE;wBAAEC,KAAK,EAAE;sBAAO;oBAAE;sBAAA3B,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC5B,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eACbhG,OAAA;kBAAA2F,QAAA,EAAG;gBAAe;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAG,CAAC,eACtBhG,OAAA;kBAAA6F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eACLhG,OAAA,CAACV,IAAI,CAACkH,KAAK;kBAACZ,SAAS,EAAC,MAAM;kBAACa,SAAS,EAAC,mBAAmB;kBAAAd,QAAA,eACtD3F,OAAA,CAACT,UAAU;oBAAAoG,QAAA,gBACP3F,OAAA,CAACT,UAAU,CAAC0H,IAAI;sBAACC,EAAE,EAAC,mBAAmB;sBAAAvB,QAAA,EAAC;oBAAe;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAiB,CAAC,eACzEhG,OAAA,CAACV,IAAI,CAAC6H,OAAO;sBACTC,IAAI,EAAC,MAAM;sBACXC,WAAW,EAAC,gBAAgB;sBAC5B1D,KAAK,EAAE/C,OAAQ;sBACf+F,QAAQ,EAAGjD,CAAC,IAAK7C,UAAU,CAAC6C,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE;sBAC5C4D,KAAK,EAAE;wBAAEC,KAAK,EAAE;sBAAO;oBAAE;sBAAA3B,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC5B,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACL,CAAC,eACbhG,OAAA;kBAAK4F,SAAS,EAAC,gCAAgC;kBAAAD,QAAA,gBAC3C3F,OAAA,CAACV,IAAI,CAACkH,KAAK;oBAACZ,SAAS,EAAC,uBAAuB;oBAACa,SAAS,EAAC,UAAU;oBAAAd,QAAA,eAC9D3F,OAAA,CAACT,UAAU;sBAAAoG,QAAA,gBACP3F,OAAA,CAACT,UAAU,CAAC0H,IAAI;wBAACC,EAAE,EAAC,UAAU;wBAAAvB,QAAA,EAAC;sBAAK;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAiB,CAAC,eACtDhG,OAAA,CAACV,IAAI,CAAC6H,OAAO;wBACTC,IAAI,EAAC,MAAM;wBACXC,WAAW,EAAC,MAAM;wBAClB1D,KAAK,EAAE7C,IAAK;wBACZ6F,QAAQ,EAAGjD,CAAC,IAAK3C,OAAO,CAAC2C,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE;wBACzC4D,KAAK,EAAE;0BAAEC,KAAK,EAAE;wBAAO;sBAAE;wBAAA3B,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC5B,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACM;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eACbhG,OAAA,CAACV,IAAI,CAACkH,KAAK;oBAACZ,SAAS,EAAC,kBAAkB;oBAACa,SAAS,EAAC,YAAY;oBAAAd,QAAA,eAC3D3F,OAAA,CAACT,UAAU;sBAAAoG,QAAA,gBACP3F,OAAA,CAACT,UAAU,CAAC0H,IAAI;wBAACC,EAAE,EAAC,YAAY;wBAAAvB,QAAA,EAAC;sBAAsB;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAiB,CAAC,eACzEhG,OAAA,CAACV,IAAI,CAAC6H,OAAO;wBACTC,IAAI,EAAC,MAAM;wBACXC,WAAW,EAAC,uBAAuB;wBACnC1D,KAAK,EAAE3C,MAAO;wBACd2F,QAAQ,EAAGjD,CAAC,IAAKzC,SAAS,CAACyC,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE;wBAC3C4D,KAAK,EAAE;0BAAEC,KAAK,EAAE;wBAAO;sBAAE;wBAAA3B,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC5B,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACM;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACZ,CAAC,eACNhG,OAAA;kBAAK4F,SAAS,EAAC,gCAAgC;kBAAAD,QAAA,gBAC3C3F,OAAA,CAACV,IAAI,CAACkH,KAAK;oBAACZ,SAAS,EAAC,uBAAuB;oBAACa,SAAS,EAAC,aAAa;oBAAAd,QAAA,eACjE3F,OAAA,CAACT,UAAU;sBAAAoG,QAAA,gBACP3F,OAAA,CAACT,UAAU,CAAC0H,IAAI;wBAACC,EAAE,EAAC,aAAa;wBAAAvB,QAAA,EAAC;sBAAgB;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAiB,CAAC,eACpEhG,OAAA,CAACV,IAAI,CAAC6H,OAAO;wBACTC,IAAI,EAAC,MAAM;wBACXC,WAAW,EAAC,iBAAiB;wBAC7B1D,KAAK,EAAEzC,OAAQ;wBACfyF,QAAQ,EAAGjD,CAAC,IAAKvC,UAAU,CAACuC,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE;wBAC5C4D,KAAK,EAAE;0BAAEC,KAAK,EAAE;wBAAO;sBAAE;wBAAA3B,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC5B,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACM;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eACbhG,OAAA,CAACV,IAAI,CAACkH,KAAK;oBAACZ,SAAS,EAAC,kBAAkB;oBAACa,SAAS,EAAC,aAAa;oBAAAd,QAAA,eAC5D3F,OAAA,CAACT,UAAU;sBAAAoG,QAAA,gBACP3F,OAAA,CAACT,UAAU,CAAC0H,IAAI;wBAACC,EAAE,EAAC,aAAa;wBAAAvB,QAAA,EAAC;sBAAQ;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAiB,CAAC,eAC5DhG,OAAA,CAACV,IAAI,CAAC6H,OAAO;wBACTC,IAAI,EAAC,MAAM;wBACXC,WAAW,EAAC,SAAS;wBACrB1D,KAAK,EAAEnC,OAAQ;wBACfmF,QAAQ,EAAGjD,CAAC,IAAKjC,UAAU,CAACiC,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE;wBAC5C4D,KAAK,EAAE;0BAAEC,KAAK,EAAE;wBAAO;sBAAE;wBAAA3B,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC5B,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACM;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACZ,CAAC,eACNhG,OAAA;kBAAK4F,SAAS,EAAC,UAAU;kBAAAD,QAAA,gBACrB3F,OAAA;oBAAIuH,KAAK,EAAE;sBAACE,SAAS,EAAC;oBAAQ,CAAE;oBAAA9B,QAAA,EAAC;kBAAe;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACrDhG,OAAA;oBAAA6F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC,eACLhG,OAAA;oBAAK4F,SAAS,EAAC,MAAM;oBAAAD,QAAA,gBACjB3F,OAAA;sBAAK4F,SAAS,EAAC,aAAa;sBAAAD,QAAA,gBACxB3F,OAAA;wBAAM4F,SAAS,EAAC,OAAO;wBAAAD,QAAA,EAAC;sBAAU;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eACzChG,OAAA;wBAAM4F,SAAS,EAAC,OAAO;wBAAAD,QAAA,GAAC,GAAC,EAACjE,QAAQ,CAACyD,OAAO,CAAC,CAAC,CAAC;sBAAA;wBAAAU,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACpD,CAAC,eACNhG,OAAA;sBAAK4F,SAAS,EAAC,aAAa;sBAAAD,QAAA,gBACxB3F,OAAA;wBAAM4F,SAAS,EAAC,OAAO;wBAAAD,QAAA,EAAC;sBAAS;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eACxChG,OAAA;wBAAM4F,SAAS,EAAC,OAAO;wBAAAD,QAAA,GAAC,IAAE,EAAC/D,QAAQ,CAACuD,OAAO,CAAC,CAAC,CAAC;sBAAA;wBAAAU,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACrD,CAAC,eACNhG,OAAA;sBAAK4F,SAAS,EAAC,aAAa;sBAAAD,QAAA,gBACxB3F,OAAA;wBAAM4F,SAAS,EAAC,OAAO;wBAAAD,QAAA,EAAC;sBAAiB;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eAChDhG,OAAA;wBAAM4F,SAAS,EAAC,OAAO;wBAAAD,QAAA,GAAC,GAAC,EAAC7D,SAAS,CAACqD,OAAO,CAAC,CAAC,CAAC;sBAAA;wBAAAU,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACrD,CAAC,eACNhG,OAAA;sBAAA6F,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eACLhG,OAAA;sBAAK4F,SAAS,EAAC,aAAa;sBAAAD,QAAA,gBACxB3F,OAAA;wBAAM4F,SAAS,EAAC,OAAO;wBAAAD,QAAA,EAAC;sBAAW;wBAAAE,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eAC1ChG,OAAA;wBAAM4F,SAAS,EAAC,OAAO;wBAAAD,QAAA,GAAC,GAAC,EAAC3D,SAAS,CAACmD,OAAO,CAAC,CAAC,CAAC;sBAAA;wBAAAU,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACrD,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,eACNhG,OAAA;oBAAA6F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAI,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACNhG,OAAA;kBAAK4F,SAAS,EAAC,kBAAkB;kBAAAD,QAAA,eAC7B3F,OAAA,CAACX,MAAM;oBACH4G,OAAO,EAAC,SAAS;oBACjBc,IAAI,EAAC,IAAI;oBACTnB,SAAS,EAAC,eAAe;oBACzBoB,OAAO,EAAEzC,YAAa;oBACtB6C,IAAI,EAAC,QAAQ;oBAAAzB,QAAA,EAChB;kBAED;oBAAAE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACR,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACJ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACNhG,OAAA,CAACP,MAAM;UAAAoG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAENhG,OAAA,CAACR,KAAK;MAACkI,IAAI,EAAExF,SAAU;MAACyF,MAAM,EAAEA,CAAA,KAAMxF,YAAY,CAAC,KAAK,CAAE;MAAAwD,QAAA,gBAC1D3F,OAAA,CAACR,KAAK,CAACoI,MAAM;QAACC,WAAW;QAAAlC,QAAA,eACrB3F,OAAA,CAACR,KAAK,CAACsI,KAAK;UAAAnC,QAAA,EAAC;QAAkB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,eACfhG,OAAA,CAACR,KAAK,CAACuI,IAAI;QAAApC,QAAA,EAAC;MAAwC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eACjEhG,OAAA,CAACR,KAAK,CAACC,MAAM;QAAAkG,QAAA,eACT3F,OAAA,CAACX,MAAM;UAAC4G,OAAO,EAAC,SAAS;UAACe,OAAO,EAAEA,CAAA,KAAM;YACrC7E,YAAY,CAAC,KAAK,CAAC;YACnBQ,QAAQ,CAAC,OAAO,CAAC;UACrB,CAAE;UAAAgD,QAAA,EAAC;QAEH;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,eAERhG,OAAA,CAACR,KAAK;MAACkI,IAAI,EAAEtF,cAAe;MAACuF,MAAM,EAAEA,CAAA,KAAMtF,iBAAiB,CAAC,KAAK,CAAE;MAAAsD,QAAA,gBAChE3F,OAAA,CAACR,KAAK,CAACoI,MAAM;QAACC,WAAW;QAAAlC,QAAA,eACrB3F,OAAA,CAACR,KAAK,CAACsI,KAAK;UAAAnC,QAAA,EAAC;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpC,CAAC,eACfhG,OAAA,CAACR,KAAK,CAACuI,IAAI;QAAApC,QAAA,GAAC,gDAER,eAAA3F,OAAA;UAAA2F,QAAA,EACKrD,aAAa,CAAC2B,GAAG,CAAC,CAAC+D,KAAK,EAAE5B,KAAK,kBAC5BpG,OAAA;YAAA2F,QAAA,EAAiBqC;UAAK,GAAb5B,KAAK;YAAAP,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAa,CAC9B;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACG,CAAC,eACbhG,OAAA,CAACR,KAAK,CAACC,MAAM;QAAAkG,QAAA,eACT3F,OAAA,CAACX,MAAM;UAAC4G,OAAO,EAAC,QAAQ;UAACe,OAAO,EAAEA,CAAA,KAAM3E,iBAAiB,CAAC,KAAK,CAAE;UAAAsD,QAAA,EAAC;QAElE;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC;EAAA,eACV,CAAC;AAEX;AAAC5F,EAAA,CAzYQD,QAAQ;EAAA,QAmBIN,WAAW,EAGXD,WAAW;AAAA;AAAAqI,EAAA,GAtBvB9H,QAAQ;AA2YjB,eAAeA,QAAQ;AAAC,IAAA8H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}