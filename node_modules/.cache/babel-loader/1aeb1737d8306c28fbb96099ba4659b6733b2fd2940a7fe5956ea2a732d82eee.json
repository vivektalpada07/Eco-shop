{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hemko\\\\OneDrive - Otago Polytechnic\\\\01_Courses\\\\10_Studio_03\\\\03_Others\\\\Eco-shop\\\\src\\\\components\\\\Addproducts.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { db, auth } from '../firebase'; // Ensure Firebase Auth is imported\nimport { collection, addDoc } from 'firebase/firestore';\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from 'firebase/storage';\nimport '../css/Header.css';\nimport '../css/Addproduct.css';\nimport HeaderSwitcher from './HeaderSwitcher';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Addproducts() {\n  _s();\n  // States for managing form inputs\n  const [productName, setProductName] = useState('');\n  const [productDescription, setProductDescription] = useState('');\n  const [productDetailedDescription, setProductDetailedDescription] = useState('');\n  const [productPrice, setProductPrice] = useState('');\n  const [category, setCategory] = useState('furniture'); // Default category is set to 'furniture'\n  const [images, setImages] = useState([]); // To store selected images for upload\n  const [imageUrls, setImageUrls] = useState([]); // To store URLs of uploaded images\n  const [progress, setProgress] = useState(0); // To track upload progress\n  const [successMessage, setSuccessMessage] = useState(''); // Success message after adding product\n\n  const storage = getStorage(); // Initialize Firebase Storage\n\n  // Handle image selection from file input\n  const handleImageChange = e => {\n    if (e.target.files) {\n      setImages([...e.target.files]); // Allow multiple image selection\n    }\n  };\n\n  // Handle image uploads to Firebase Storage\n  const handleImageUpload = () => {\n    if (images.length === 0) {\n      alert(\"Please select images to upload.\");\n      return;\n    }\n\n    // Map through the selected images and upload each\n    const uploadPromises = images.map(image => {\n      const storageRef = ref(storage, `images/${productName}/${image.name}`); // Save images in a sub-folder under the product name\n      const uploadTask = uploadBytesResumable(storageRef, image); // Upload image\n\n      return new Promise((resolve, reject) => {\n        uploadTask.on('state_changed', snapshot => {\n          // Calculate and update the upload progress for each image\n          const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n          setProgress(progress);\n        }, error => {\n          // Handle upload errors\n          console.error(\"Upload failed: \", error);\n          reject(error);\n        }, () => {\n          // Once upload completes, get the download URL of the image\n          getDownloadURL(uploadTask.snapshot.ref).then(downloadURL => {\n            setImageUrls(prev => [...prev, downloadURL]); // Store the download URL in state\n            resolve(downloadURL); // Resolve the promise after successful upload\n          });\n        });\n      });\n    });\n\n    // Wait for all image uploads to complete\n    Promise.all(uploadPromises).then(urls => {\n      console.log('All images uploaded:', urls);\n      alert('Images uploaded successfully!');\n    }).catch(error => {\n      console.error('Error uploading images: ', error);\n      alert('Failed to upload images. Please try again.');\n    });\n  };\n\n  // Handle form submission and product data storage\n  const handleSubmit = async e => {\n    e.preventDefault(); // Prevent default form submission behavior\n\n    try {\n      const user = auth.currentUser; // Get the current authenticated user\n      if (!user) {\n        throw new Error(\"User not authenticated\"); // Ensure user is logged in\n      }\n\n      // Add product information to Firestore, including image URLs and seller details\n      const docRef = await addDoc(collection(db, \"products\"), {\n        productName,\n        productDescription,\n        productDetailedDescription,\n        productPrice: Number(productPrice),\n        // Convert price to number format\n        category,\n        imageUrls,\n        // Store the uploaded image URLs\n        sellerId: user.uid,\n        // Save the seller's unique ID\n        sellerUsername: user.displayName || user.email.split('@')[0],\n        // Use the seller's display name or email as username\n        sellerEmail: user.email // Save the seller's email address\n      });\n      console.log(\"Document written with ID: \", docRef.id);\n\n      // Display success message and reset the form fields\n      setSuccessMessage('Product added successfully!');\n      setProductName('');\n      setProductDescription('');\n      setProductDetailedDescription('');\n      setProductPrice('');\n      setCategory('furniture');\n      setImages([]);\n      setImageUrls([]);\n      setProgress(0);\n\n      // Remove success message after 3 seconds\n      setTimeout(() => {\n        setSuccessMessage('');\n      }, 3000);\n    } catch (e) {\n      console.error(\"Error adding document: \", e); // Log any errors during submission\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-content\",\n    children: [/*#__PURE__*/_jsxDEV(HeaderSwitcher, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Product Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: productName,\n          onChange: e => setProductName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Product Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: productDescription,\n          onChange: e => setProductDescription(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Detailed Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: productDetailedDescription,\n          onChange: e => setProductDetailedDescription(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Product Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: productPrice,\n          onChange: e => setProductPrice(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Category:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: category,\n          onChange: e => setCategory(e.target.value),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"furniture\",\n            children: \"Furnitures\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"electricalgoods\",\n            children: \"Electrical Goods\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"homewares\",\n            children: \"Homewares\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"other\",\n            children: \"Other Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Upload Images:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleImageChange,\n          multiple: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleImageUpload,\n          children: \"Upload Images\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"progress\", {\n          value: progress,\n          max: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), imageUrls.length > 0 && imageUrls.map((url, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: url,\n          alt: \"Uploaded\",\n          style: {\n            width: '100px',\n            marginTop: '10px'\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'green'\n      },\n      children: successMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 5\n  }, this);\n}\n_s(Addproducts, \"M4mvxhf/viuHyMmESyudTL7uAiI=\");\n_c = Addproducts;\nexport default Addproducts;\nvar _c;\n$RefreshReg$(_c, \"Addproducts\");","map":{"version":3,"names":["React","useState","db","auth","collection","addDoc","getStorage","ref","uploadBytesResumable","getDownloadURL","HeaderSwitcher","jsxDEV","_jsxDEV","Addproducts","_s","productName","setProductName","productDescription","setProductDescription","productDetailedDescription","setProductDetailedDescription","productPrice","setProductPrice","category","setCategory","images","setImages","imageUrls","setImageUrls","progress","setProgress","successMessage","setSuccessMessage","storage","handleImageChange","e","target","files","handleImageUpload","length","alert","uploadPromises","map","image","storageRef","name","uploadTask","Promise","resolve","reject","on","snapshot","Math","round","bytesTransferred","totalBytes","error","console","then","downloadURL","prev","all","urls","log","catch","handleSubmit","preventDefault","user","currentUser","Error","docRef","Number","sellerId","uid","sellerUsername","displayName","email","split","sellerEmail","id","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","required","multiple","onClick","max","url","index","src","alt","style","width","marginTop","color","_c","$RefreshReg$"],"sources":["C:/Users/hemko/OneDrive - Otago Polytechnic/01_Courses/10_Studio_03/03_Others/Eco-shop/src/components/Addproducts.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { db, auth } from '../firebase'; // Ensure Firebase Auth is imported\r\nimport { collection, addDoc } from 'firebase/firestore';\r\nimport { getStorage, ref, uploadBytesResumable, getDownloadURL } from 'firebase/storage';\r\nimport '../css/Header.css';\r\nimport '../css/Addproduct.css';\r\nimport HeaderSwitcher from './HeaderSwitcher';\r\n\r\nfunction Addproducts() {\r\n  // States for managing form inputs\r\n  const [productName, setProductName] = useState('');\r\n  const [productDescription, setProductDescription] = useState('');\r\n  const [productDetailedDescription, setProductDetailedDescription] = useState('');\r\n  const [productPrice, setProductPrice] = useState('');\r\n  const [category, setCategory] = useState('furniture'); // Default category is set to 'furniture'\r\n  const [images, setImages] = useState([]); // To store selected images for upload\r\n  const [imageUrls, setImageUrls] = useState([]); // To store URLs of uploaded images\r\n  const [progress, setProgress] = useState(0); // To track upload progress\r\n  const [successMessage, setSuccessMessage] = useState(''); // Success message after adding product\r\n\r\n  const storage = getStorage(); // Initialize Firebase Storage\r\n\r\n  // Handle image selection from file input\r\n  const handleImageChange = (e) => {\r\n    if (e.target.files) {\r\n      setImages([...e.target.files]); // Allow multiple image selection\r\n    }\r\n  };\r\n\r\n  // Handle image uploads to Firebase Storage\r\n  const handleImageUpload = () => {\r\n    if (images.length === 0) {\r\n      alert(\"Please select images to upload.\");\r\n      return;\r\n    }\r\n\r\n    // Map through the selected images and upload each\r\n    const uploadPromises = images.map((image) => {\r\n      const storageRef = ref(storage, `images/${productName}/${image.name}`); // Save images in a sub-folder under the product name\r\n      const uploadTask = uploadBytesResumable(storageRef, image); // Upload image\r\n\r\n      return new Promise((resolve, reject) => {\r\n        uploadTask.on(\r\n          'state_changed',\r\n          (snapshot) => {\r\n            // Calculate and update the upload progress for each image\r\n            const progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\r\n            setProgress(progress);\r\n          },\r\n          (error) => {\r\n            // Handle upload errors\r\n            console.error(\"Upload failed: \", error);\r\n            reject(error);\r\n          },\r\n          () => {\r\n            // Once upload completes, get the download URL of the image\r\n            getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\r\n              setImageUrls((prev) => [...prev, downloadURL]); // Store the download URL in state\r\n              resolve(downloadURL); // Resolve the promise after successful upload\r\n            });\r\n          }\r\n        );\r\n      });\r\n    });\r\n\r\n    // Wait for all image uploads to complete\r\n    Promise.all(uploadPromises)\r\n      .then((urls) => {\r\n        console.log('All images uploaded:', urls);\r\n        alert('Images uploaded successfully!');\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error uploading images: ', error);\r\n        alert('Failed to upload images. Please try again.');\r\n      });\r\n  };\r\n\r\n  // Handle form submission and product data storage\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault(); // Prevent default form submission behavior\r\n\r\n    try {\r\n      const user = auth.currentUser; // Get the current authenticated user\r\n      if (!user) {\r\n        throw new Error(\"User not authenticated\"); // Ensure user is logged in\r\n      }\r\n\r\n      // Add product information to Firestore, including image URLs and seller details\r\n      const docRef = await addDoc(collection(db, \"products\"), {\r\n        productName,\r\n        productDescription,\r\n        productDetailedDescription,\r\n        productPrice: Number(productPrice), // Convert price to number format\r\n        category,\r\n        imageUrls, // Store the uploaded image URLs\r\n        sellerId: user.uid, // Save the seller's unique ID\r\n        sellerUsername: user.displayName || user.email.split('@')[0], // Use the seller's display name or email as username\r\n        sellerEmail: user.email, // Save the seller's email address\r\n      });\r\n\r\n      console.log(\"Document written with ID: \", docRef.id);\r\n\r\n      // Display success message and reset the form fields\r\n      setSuccessMessage('Product added successfully!');\r\n      setProductName('');\r\n      setProductDescription('');\r\n      setProductDetailedDescription('');\r\n      setProductPrice('');\r\n      setCategory('furniture');\r\n      setImages([]);\r\n      setImageUrls([]);\r\n      setProgress(0);\r\n\r\n      // Remove success message after 3 seconds\r\n      setTimeout(() => {\r\n        setSuccessMessage('');\r\n      }, 3000);\r\n\r\n    } catch (e) {\r\n      console.error(\"Error adding document: \", e); // Log any errors during submission\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='main-content'>\r\n      {/* Dynamic header switching based on the user type */}\r\n      <HeaderSwitcher/>\r\n      <h2>Add Product</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          <label>Product Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={productName}\r\n            onChange={(e) => setProductName(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Product Description:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={productDescription}\r\n            onChange={(e) => setProductDescription(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Detailed Description:</label>\r\n          <textarea\r\n            value={productDetailedDescription}\r\n            onChange={(e) => setProductDetailedDescription(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Product Price:</label>\r\n          <input\r\n            type=\"number\"\r\n            value={productPrice}\r\n            onChange={(e) => setProductPrice(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label>Category:</label>\r\n          <select value={category} onChange={(e) => setCategory(e.target.value)} required>\r\n            <option value=\"furniture\">Furnitures</option>\r\n            <option value=\"electricalgoods\">Electrical Goods</option>\r\n            <option value=\"homewares\">Homewares</option>\r\n            <option value=\"other\">Other Products</option> {/* Option for uncategorized products */}\r\n          </select>\r\n        </div>\r\n        <div>\r\n          <label>Upload Images:</label>\r\n          <input type=\"file\" onChange={handleImageChange} multiple />\r\n          <button type=\"button\" onClick={handleImageUpload}>Upload Images</button>\r\n          <progress value={progress} max=\"100\" />\r\n          {imageUrls.length > 0 && imageUrls.map((url, index) => (\r\n            <img key={index} src={url} alt=\"Uploaded\" style={{ width: '100px', marginTop: '10px' }} />\r\n          ))}\r\n        </div>\r\n        <button type=\"submit\">Add Product</button>\r\n      </form>\r\n\r\n      {/* Success message after product submission */}\r\n      {successMessage && <p style={{ color: 'green' }}>{successMessage}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Addproducts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}